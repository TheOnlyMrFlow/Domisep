$(document).ready(function(){$("#comp-details-form").ajaxForm({url:location.origin+"/controllers/components/modify.php",type:"post",success:function(o){console.log(o),location.reload()},error:function(o){console.log("An error occured")}});var o=document.getElementsByClassName("comp-details-opener");Array.prototype.forEach.call(o,function(o){o.addEventListener("click",function(){console.log("click");for(var o=this,e=0;!o.className.split(" ").includes("component");)if(o=o.parentElement,e++,e>30)return void console.error("Cant find root element of the component");document.getElementById("comp-details-id").value=o.id,$.get(encodeURI(location.origin+"/controllers/components/details-json.php?id="+o.id),function(o){console.log(o),o=JSON.parse(o),document.getElementById("comp-details-title").innerHTML=o.name,document.getElementById("comp-details-name").value=o.name;var e=document.getElementById("comp-details-room");e.innerHTML="",$.get(location.origin+"/controllers/rooms/list-json.php",function(n){console.log(n),n=JSON.parse(n);for(var t=0;t<n.length;t++)e.innerHTML+="<option value = '"+n[t].id+"'>"+n[t].name+"</option>";e.value=o.id_room})})})})});