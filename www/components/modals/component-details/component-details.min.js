$(document).ready(function(){$("#comp-details-form").ajaxForm({url:"http://localhost/handlers/handle-modify-component.php",type:"post",success:function(b){console.log(b);location.reload()},error:function(b){console.log("An error occured")}});var a=document.getElementsByClassName("bouton_3_points");Array.prototype.forEach.call((a),function(b){b.addEventListener("click",function(){var c=this;var d=0;while(!c.className.split(" ").includes("component")){c=c.parentElement;d++;if(d>30){console.error("Cant find root element of the component");return}}document.getElementById("comp-details-id").value=c.id;var e=document.getElementById("modal-comp-details");$.get(encodeURI("http://localhost/controllers/components/details-json.php?id="+c.id),function(g){console.log(g);g=JSON.parse(g);e.style.display="block";document.getElementById("comp-details-title").innerHTML=g[0];document.getElementById("comp-details-name").value=g[0];var f=document.getElementById("comp-details-room");f.innerHTML="";$.get("http://localhost/controllers/rooms/list-json.php",function(h){console.log(h);h=JSON.parse(h);for(var j=0;j<h.length;j++){f.innerHTML+="<option value = '"+h[j][0]+"'>"+h[j][1]+"</option>"}f.value=g[2]})})})})});