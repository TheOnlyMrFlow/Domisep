$(document).ready(function(){var c=$(".components_line:last-child");var a=$("#select-sensor");a.on("change",function(){var d=this.options[this.selectedIndex];d.remove();var e={serialNumber:d.value};$.post("controllers/presets/display-selected-component.php",e,function(f){if(c.children(".component").length==4){c.after("<div class='components_line'></div>");c=$(".components_line:last-child")}c.append(f)})});$(".dashboard-inner-container").on("click",".fa-minus-square",function(d){d.preventDefault();$(this).parent(".component").remove();var f=$(this).siblings(".component_title").text();var e=new Option(f,$(this).parents(".component").attr("id"));$(e).html(f);$("#select-sensor").append(e)});$(".dashboard-inner-container").on("click",".component_bas>.form-switch>i",function(f){var g=$(this).closest("div.component").attr("id");var d=this.previousElementSibling.checked;if(d==false){$(this).parents(".component_bas").prev(".component_middle").find("span>i").css("color","#4BD763")}else{$(this).parents(".component_bas").prev(".component_middle").find("span>i").css("color","#7A7A7A")}});var b;$(".dashboard-inner-container").on("mousedown",".component>.component_middle>.change-component-value>.component-plus-button",function(){var d=$(this);b=setInterval(function(f){var h=d.parent().prev().children("span:first-child");h.text(+h.text()+1);var g=d.parents("div.component").attr("id")},100)}).on("mouseup",".component>.component_middle>.change-component-value>.component-plus-button",function(){clearInterval(b)});$(".dashboard-inner-container").on("mousedown",".component>.component_middle>.change-component-value>.component-minus-button",function(){var d=$(this);b=setInterval(function(f){var h=d.parent().prev().children("span:first-child");h.text(+h.text()-1);var g=d.parents("div.component").attr("id")},100)}).on("mouseup",".component>.component_middle>.change-component-value>.component-minus-button",function(){clearInterval(b)});$("#Save").on("click",function(f){var d=[];var e=$("#NamePreset").val();$(".component").each(function(h){var i=$(this).attr("id");var k=$(this)[0].querySelectorAll(".form-switch>input")[0].checked;if(k==false){k=0}else{k=1}var j=$(this).find(".component-value>span:first-child").text();if(j!=""){j=+j}else{j=null}var g=[i,k,j];d.push(g)});console.log(d+e);if(d!==undefined&&d.length!=0&&e!=""){$.post("controllers/presets/create.php",{name:e,data:d},function(g){window.location.href="./../my-house.php"})}else{alert("Please choose a name and select at least one component")}})});