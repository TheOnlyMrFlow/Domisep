$(document).ready(function(){var n=$(".components_line:last-child"),e=$("#select-sensor");e.on("change",function(){var e=this.options[this.selectedIndex];e.remove();var t={serialNumber:e.value};$.post("controllers/presets/display-selected-component.php",t,function(e){4==n.children(".component").length&&(n.after("<div class='components_line'></div>"),n=$(".components_line:last-child")),n.append(e)})}),$(".dashboard-inner-container").on("click",".fa-minus-square",function(n){n.preventDefault(),$(this).parent(".component").remove();var e=$(this).siblings(".component_title").text(),t=new Option(e,$(this).parents(".component").attr("id"));$(t).html(e),$("#select-sensor").append(t)}),$(".dashboard-inner-container").on("click",".component_bas>.form-switch>i",function(n){var e=($(this).closest("div.component").attr("id"),this.previousElementSibling.checked);0==e?$(this).parents(".component_bas").prev(".component_middle").find("span>i").css("color","#4BD763"):$(this).parents(".component_bas").prev(".component_middle").find("span>i").css("color","#7A7A7A")}),$(".dashboard-inner-container").on("click",".component>.component_middle>.change-component-value>.component-plus-button",function(n){var e=$(this).parent().prev().children("span:first-child");e.text(+e.text()+1);$(this).parents("div.component").attr("id")}),$(".dashboard-inner-container").on("click",".component>.component_middle>.change-component-value>.component-minus-button",function(n){var e=$(this).parent().prev().children("span:first-child");e.text(+e.text()-1);$(this).parents("div.component").attr("id")}),$("#Save").on("click",function(n){var e=[],t=$("#NamePreset").val();$(".component").each(function(n){var t=$(this).attr("id"),o=$(this)[0].querySelectorAll(".form-switch>input")[0].checked;o=0==o?0:1;var i=$(this).find(".component-value>span:first-child").text();i=""!=i?+i:null;var c=[t,o,i];e.push(c)}),console.log(e+t),void 0!==e&&0!=e.length&&""!=t?$.post("controllers/presets/create-preset.php",{name:t,data:e},function(n){window.location.href="./../my-house.php"}):alert("Please choose a name and select at least one component")})});